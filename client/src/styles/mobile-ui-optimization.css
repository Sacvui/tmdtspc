/* ============================================
   MOBILE UI OPTIMIZATION - Comprehensive Fix
   ============================================ */

/* ===== BASE MOBILE FIXES ===== */
@media (max-width: 768px) {
  /* Touch Targets - Minimum 44x44px for accessibility */
  button,
  a[role="button"],
  input[type="button"],
  input[type="submit"],
  .btn,
  [onClick] {
    min-height: 44px !important;
    min-width: 44px !important;
    padding: 12px 20px !important;
    font-size: 16px !important; /* Prevent zoom on iOS */
    -webkit-tap-highlight-color: rgba(26, 92, 162, 0.1);
    touch-action: manipulation;
  }

  /* Links should be easily tappable */
  a {
    min-height: 44px;
    display: inline-flex;
    align-items: center;
    -webkit-tap-highlight-color: rgba(26, 92, 162, 0.1);
  }

  /* Input fields - prevent zoom on iOS */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  input[type="search"],
  textarea,
  select {
    font-size: 16px !important; /* Prevent zoom on iOS */
    min-height: 44px;
    padding: 12px 16px;
    border-radius: 12px;
    -webkit-appearance: none;
    appearance: none;
  }

  /* Smooth scrolling */
  * {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
  }

  /* Typography optimization */
  h1 {
    font-size: clamp(24px, 6vw, 32px) !important;
    line-height: 1.3 !important;
    margin-bottom: 16px !important;
  }

  h2 {
    font-size: clamp(20px, 5vw, 28px) !important;
    line-height: 1.3 !important;
    margin-bottom: 12px !important;
  }

  h3 {
    font-size: clamp(18px, 4vw, 24px) !important;
    line-height: 1.4 !important;
    margin-bottom: 10px !important;
  }

  p {
    font-size: 14px !important;
    line-height: 1.6 !important;
    margin-bottom: 12px !important;
  }

  /* Card spacing */
  [style*="padding"] {
    padding: 16px !important;
  }

  [style*="padding: 24px"],
  [style*="padding: 40px"],
  [style*="padding: 60px"] {
    padding: 20px 16px !important;
  }

  /* Grid gaps */
  [style*="gap: 24px"],
  [style*="gap: 28px"],
  [style*="gap: 30px"],
  [style*="gap: 40px"] {
    gap: 12px !important;
  }

  /* Margin optimization */
  [style*="marginBottom: 40px"],
  [style*="marginBottom: 60px"],
  [style*="marginBottom: 80px"] {
    margin-bottom: 24px !important;
  }

  /* Border radius - slightly smaller on mobile */
  [style*="borderRadius: 24px"],
  [style*="borderRadius: 30px"] {
    border-radius: 16px !important;
  }

  /* Box shadows - lighter on mobile */
  [style*="boxShadow"] {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08) !important;
  }

  /* Font weights - slightly lighter for readability */
  [style*="fontWeight: 800"] {
    font-weight: 700 !important;
  }

  /* Image optimization */
  img {
    max-width: 100% !important;
    height: auto !important;
    display: block !important;
    border-radius: 12px;
  }

  /* Container max-widths */
  [style*="maxWidth: 1400px"] {
    max-width: 100% !important;
    padding-left: 16px !important;
    padding-right: 16px !important;
    box-sizing: border-box !important;
  }

  /* Flex containers */
  [style*="display: flex"] {
    flex-wrap: wrap !important;
    gap: 12px !important;
  }

  /* Grid containers */
  [style*="gridTemplateColumns"] {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 12px !important;
  }

  /* Buttons - full width on mobile when appropriate */
  button[style*="width: 100%"],
  a[style*="width: 100%"] {
    width: 100% !important;
    margin-bottom: 12px;
  }

  /* Form elements */
  form {
    width: 100%;
    padding: 0;
  }

  /* Modal and overlay fixes */
  [style*="position: fixed"] {
    padding: 20px 16px !important;
  }

  /* Smooth transitions */
  * {
    transition: all 0.2s ease !important;
  }

  /* Remove hover effects on mobile */
  *:hover {
    transform: none !important;
  }

  /* Focus states for accessibility */
  button:focus,
  a:focus,
  input:focus,
  textarea:focus,
  select:focus {
    outline: 3px solid rgba(26, 92, 162, 0.3);
    outline-offset: 2px;
  }
}

/* ===== EXTRA SMALL DEVICES (â‰¤480px) ===== */
@media (max-width: 480px) {
  /* Even smaller spacing */
  [style*="padding: 20px"] {
    padding: 16px 12px !important;
  }

  /* Smaller font sizes */
  h1 {
    font-size: 22px !important;
  }

  h2 {
    font-size: 20px !important;
  }

  h3 {
    font-size: 18px !important;
  }

  /* Single column grids */
  [style*="gridTemplateColumns"] {
    grid-template-columns: 1fr !important;
  }

  /* Smaller gaps */
  [style*="gap: 12px"] {
    gap: 8px !important;
  }

  /* Compact buttons */
  button,
  .btn {
    padding: 10px 16px !important;
    font-size: 14px !important;
  }
}

/* ===== SMOOTH ANIMATIONS ===== */
@media (max-width: 768px) {
  /* Optimize animations for mobile */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideIn {
    from {
      transform: translateX(-100%);
    }
    to {
      transform: translateX(0);
    }
  }

  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* ===== LOADING STATES ===== */
@media (max-width: 768px) {
  /* Skeleton loaders */
  .skeleton {
    background: linear-gradient(
      90deg,
      #f0f0f0 25%,
      #e0e0e0 50%,
      #f0f0f0 75%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
    border-radius: 8px;
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }
}

/* ===== SCROLL BEHAVIOR ===== */
@media (max-width: 768px) {
  /* Smooth scroll */
  html {
    scroll-behavior: smooth;
  }

  /* Scroll snap for better UX */
  .scroll-container {
    scroll-snap-type: y proximity;
  }

  .scroll-item {
    scroll-snap-align: start;
  }

  /* Hide scrollbar but keep functionality */
  ::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    background: rgba(0, 0, 0, 0.2);
    border-radius: 2px;
  }
}

/* ===== PERFORMANCE OPTIMIZATIONS ===== */
@media (max-width: 768px) {
  /* GPU acceleration for smooth scrolling */
  .App,
  .main-content,
  header,
  nav {
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    will-change: scroll-position;
  }

  /* Optimize repaints */
  [style*="position: sticky"],
  [style*="position: fixed"] {
    will-change: transform;
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
  }
}

/* ===== ACCESSIBILITY ===== */
@media (max-width: 768px) {
  /* Ensure sufficient color contrast */
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Focus indicators */
  *:focus-visible {
    outline: 3px solid #1a5ca2;
    outline-offset: 2px;
    border-radius: 4px;
  }

  /* Skip to content link */
  .skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: #1a5ca2;
    color: white;
    padding: 8px;
    text-decoration: none;
    z-index: 100;
  }

  .skip-link:focus {
    top: 0;
  }
}

/* ===== SPECIFIC COMPONENT FIXES ===== */
@media (max-width: 768px) {
  /* Product Cards */
  .product-card,
  [style*="borderRadius: 24px"][style*="background: #fff"] {
    margin-bottom: 16px;
    border-radius: 16px !important;
  }

  /* Category Cards */
  [style*="textAlign: center"][style*="borderRadius: 20px"] {
    padding: 16px 12px !important;
    border-radius: 16px !important;
  }

  /* Header */
  header {
    padding: 12px 16px !important;
  }

  /* Footer */
  footer {
    padding: 24px 16px !important;
    font-size: 12px !important;
  }

  /* Forms */
  form {
    padding: 20px 16px !important;
  }

  /* Search bars */
  input[type="search"] {
    font-size: 16px !important;
    padding: 12px 16px !important;
    border-radius: 12px !important;
  }

  /* Dropdowns */
  select {
    font-size: 16px !important;
    padding: 12px 40px 12px 16px !important;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 12px;
  }
}

/* ===== LANDSCAPE ORIENTATION ===== */
@media (max-width: 768px) and (orientation: landscape) {
  /* Optimize for landscape */
  header {
    padding: 8px 16px !important;
  }

  .main-content {
    padding-top: 0 !important;
  }
}

/* ===== HIGH DPI DISPLAYS ===== */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  /* Sharper borders */
  * {
    border-width: 0.5px;
  }
}

/* ===== DARK MODE SUPPORT (Future) ===== */
@media (prefers-color-scheme: dark) {
  /* Can be implemented later if needed */
}

